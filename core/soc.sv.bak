

module soc
(
);
logic clk;
logic rst;

initial begin
    //Begin of reset secuence
    clk <= 0;
    rst <= 0;
    #10
    clk <= 1;
    rst <= 1;
    #10
    clk <= 0;
    #10
    clk <= 1;
    rst <= 0;
    //End of reset secuence
    repeat(10000000) #10 clk = ~clk;
end

WB4 inst_bus(clk, rst);
WB4 data_bus(clk, rst);
WB4 memory_wb(clk, rst);
WB4 uart_wb(clk, rst);


cross_bar cross_bar_0 
(
    //Define master
    .cpu(data_bus),
    .memory(memory_wb),
    .uart(uart_wb)
);

//Memory and devices
ram_wb MEMORY_INST(.wb(inst_bus));
ram_wb MEMORY_DATA(.wb(memory_wb));
console console_0(.wb(uart_wb));


core CORE_0
    (
        .inst_bus(inst_bus),
        .data_bus(data_bus)
    );

endmodule